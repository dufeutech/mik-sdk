---
title: Installation
description: Set up your development environment for mik-sdk
---

import { Steps, Tabs, TabItem, Aside } from "@astrojs/starlight/components";

This guide walks you through setting up your development environment to build WASI HTTP handlers with mik-sdk.

## Prerequisites

<Steps>

1. **Rust 1.85+** with the `wasm32-wasip2` target

   ```bash
   rustup update
   rustup target add wasm32-wasip2
   ```

2. **cargo-component** for building WASM components

   ```bash
   cargo install cargo-component
   ```

3. **wac** for component composition

   ```bash
   cargo install wac-cli
   ```

4. **wasmtime** (optional) for running components locally

   ```bash
   # Via cargo
   cargo install wasmtime-cli

   # Or via package manager (macOS)
   brew install wasmtime
   ```

</Steps>

## Project Setup

Create a new handler project:

```bash
cargo new --lib my-handler
cd my-handler
```

Configure `Cargo.toml`:

```toml
[package]
name = "my-handler"
version = "0.1.0"
edition = "2024"

[lib]
crate-type = ["cdylib"]

[dependencies]
mik-sdk = "0.1"

[package.metadata.component]
package = "my:handler"

[package.metadata.component.target.dependencies]
"mik:core" = { path = "wit/deps/core" }
```

## WIT Dependencies

Your handler needs the mik:core WIT interface. You can get it from the OCI registry or GitHub releases:

<Tabs>
<TabItem label="OCI Registry">

```bash
# Install oras if you don't have it
cargo install oras

# Download the WIT file
mkdir -p wit/deps/core
oras pull ghcr.io/dufeut/mik-sdk-wit:latest -o wit/deps/core
```

</TabItem>
<TabItem label="GitHub Release">

```bash
# Download from the latest release
mkdir -p wit/deps/core
curl -L https://github.com/dufeut/mik-sdk/releases/latest/download/core.wit \
  -o wit/deps/core/core.wit
```

</TabItem>
<TabItem label="Manual">

Copy the `wit/` directory from `examples/hello-world/` in the [mik-sdk repository](https://github.com/dufeut/mik-sdk).

</TabItem>
</Tabs>

Your project structure should look like:

```
my-handler/
├── Cargo.toml
├── src/
│   └── lib.rs
└── wit/
    ├── world.wit
    └── deps/
        └── core/
            └── core.wit
```

Create `wit/world.wit`:

```wit
package my:handler;

world handler {
    include mik:core/handler-world;
}
```

## Feature Flags

mik-sdk provides optional features:

```toml
[dependencies]
# Default (includes SQL macros + HTTP client)
mik-sdk = "0.1"

# Minimal (no SQL, no HTTP client)
mik-sdk = { version = "0.1", default-features = false }

# Only SQL (no HTTP client)
mik-sdk = { version = "0.1", default-features = false, features = ["sql"] }
```

| Feature       | Default | Description              |
| ------------- | ------- | ------------------------ |
| `sql`         | Yes     | SQL query builder macros |
| `http-client` | Yes     | Outbound HTTP requests   |

## Bridge Component

To compose your handler into a runnable service, you need the mik-bridge component:

<Tabs>
<TabItem label="OCI Registry">

```bash
# Download the bridge component
oras pull ghcr.io/dufeut/mik-sdk-bridge:latest -o .
# Result: mik_bridge.wasm
```

</TabItem>
<TabItem label="GitHub Release">

```bash
# Download from the latest release
curl -LO https://github.com/dufeut/mik-sdk/releases/latest/download/mik-bridge.wasm
```

</TabItem>
</Tabs>

## Verify Installation

Build a minimal handler to verify your setup:

```rust
// src/lib.rs
#[allow(warnings)]
mod bindings;

use bindings::exports::mik::core::handler::{self, Guest, Response};
use mik_sdk::prelude::*;

routes! {
    GET "/" => home,
}

fn home(_req: &Request) -> Response {
    ok!({ "message": "Hello from mik-sdk!" })
}
```

Build the component:

```bash
cargo component build --release
```

If successful, you'll find your component at:

```
target/wasm32-wasip2/release/my_handler.wasm
```

## Next Steps

- [Quick Start](/guides/quickstart/) - Build a complete handler
- [Routing](/guides/routing/) - Learn the routing system
- [Architecture](/architecture/) - Understand the component model
